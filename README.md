# **Марија Јанческа 233067**

## 2. Control flow graph:

![CFG](https://github.com/user-attachments/assets/b212f4ce-5773-411f-b7b3-c748693c22db)


## 3. Цикломатска комплексност на графот
   
   Цикломатската комплексност е пресметана со: V(G) = E - N + 2, каде што Е е број на ребра во графот, а
   
   N е број на јазли во графот.
   
   Во овој CFG бројот на ребра е 38, а бројот на јазли е 31, па  V(G) = 38 - 31 + 2 = 9.
   
   Цикломатската комплексност изнесува 9.

## 4. Тест случаи според Every Statement критериумот
      
![image](https://github.com/user-attachments/assets/613e0250-1533-48c1-9bbd-d4271ab5f3c1)

Според CFG може да се забележи дека бројот на минимални тестови за Every Statement критериумот е 5, бидејќи има 5 ребра што излегуваат од јазелот 27.
Прво ги направив тестовите што водат до фрлање исклучоци, за да ги опфатам тие делови од кодот со првите четири тест примери во табелата. Со секој тест покривав нови линии од кодот. На крајот, со петтиот тест пример ги покрив и останатите линии што претходно не беа опфатени. Во него имав два артикли: еден со попуст и еден без попуст, со цел да ги покријам линиите и if гранките и 19.3, else е веќе покриена со третиот тест случај.

**I SILab2.checkCart(null, "1234562890123456")**

   Поради тоа што листата на артикли е null, се влегува веднаш во првиот if услов и се фрла 
   исклучок. Со што се покриваат линиите како што е наведено во табелата (тие ќелии што се во 
   боја).

   
**II List<Item> items = List.of(new Item(null, 1, 100, 0));
     SILab2.checkCart(items, "1234567890123456");** 
     
   Името на картичката е null, се влегува во условот за невелидно 
   име кој со овој тест пример е исполнет и затоа се фрла исклучок. 
    

     
 **III List<Item> items = List.of(
       new Item("Item", 3, 100, 0)
       );
       SILab2.checkCart(items, "A2345678901234570");** 
       
 Артиклот има валидно име, количина и цена, па затоа се поминува низ сите проверки за истиот.
   Но бројот на картичката не е валиден бидејќи започнува со буква, па затоа се фрла исклучок "Invalid character in card number!". 
    Всушност во овој дел бидејќи попустот е 0 влегува и во else гранката со што е покриен и тој дел од кодот (13 и 14 линија).

      
 **IV List<Item> items = List.of(
      new Item("Item", 3, 100, 0)
      );
      SILab2.checkCart(items, "null");**
      
   Со овој тест пример се покрива делот каде што се фрла исклучок поради
   тоа што бројот на картичката е null, артиклот е валиден затоа и овде
   поминува низ тие проверки (1 - 15 линија).

     
   **V List<Item> items = List.of(
     new Item("firstItem", 5, 100, 0.1),   
     new Item("secondItem", 15, 350, 0.0) 
     );
     SILab2.checkCart(items, "1234567890128");**
     
Овој тест случај го направив за да ги покријам сите преостанати линии од кодот. Првиот артикл има попуст (0.2), па влегува во if гранките каде што се пресметува попустот. Вториот нема попуст (0.0), па оди во else делот (кој веќе е покриен) каде што директно се множи количината со цената. Картичката е валидна. Со овој тест се покриваат сите преостанати линии од кодот, вклучувајќи и финалната проверка на вкупната цена и враќањето на резултатот

## 5. Тест случаи според Multiple Condition критериумот
ЗА if (item.getPrice() > 300 || item.getDiscount() > 0 || item.getQuantity() > 10)

   **I List<Item> items_test1 = List.of(new Item("item_test1", 1, 700, 0));
double expected_test1 = -30 + 700 * 1;**

Во овој тест случај треба да биде исполнет само првиот услов, па во овој тест пример е исполнето тоа бидејчи цената е 700, што е поголемо од 300, што значи целиот услов е true и заради тоа другите ги ставив со рандом вредности, бидејќи нема да направат разлика. Попусот е ставен на 0 при што влегува во else и затоа double expected_test1 = -30 + 700 * 1. 

**II List<Item> items_test2 = List.of(new Item("item_test2", 1, 100, 0.1));
double expected_test2 = -30 + 100 * (1 - 0.1) * 1; // = 60**

   Тука item.getPrice() <= 300, но item.getDiscount() > 0
   Цената е 100 (не е > 300), но попустот е 0.1 (> 0), значи условот повторно е true, па затоа на квантитетот ставив рандом број кој не менува.
   Одзема 30, и се пресметува цената со попуст.

   **III List<Item> items_test3 = List.of(new Item("item_test3", 15, 80, 0));
double expected_test3 = -30 + 80 * 15; // = 1170**

  Првите два дела од условот се false, што значи третиот (Quantity) мора да е true, за целиот услов да е true. При што влегува во овој if и потоа во другиот иф па заоа имаме -30 + 80 * 15.
  
 **IV List<Item> items_test4 = List.of(new Item("item_test4", 3, 50, 0));
double expected_test4 = 50 * 3; // 150**

Во овој тест случај сите делови од условот се false - price <300 (50 e) , discount e 0 и quantity e 30 ->  целиот услов е false и затоа не се исполнува, при што тука програмата само влегува во else делот, затоа expected_test4 = 50 * 3.

Тест случаите ги пронајдов со помош на lazy evaluation. Поради тоа што условот е со OR, доволно е еден дел од условот да е true при што сеедно е дали другите  се true или false (се означуваат со X) бидејќи целиот услов е true . **Па на овој начин донесов заклучок дека минималниот број на тест слуачаи за да се посигне Multiple Condition критериумот е 4.**

 **Услов:** if (item.getPrice() > 300 || item.getDiscount() > 0 || item.getQuantity() > 10)
 
   I: T || X || X
         
    II: F || T || X
         
   III: F || F || T
         
 IV: F || F || F**

Според оваа табела ги напишав горенаведените тест случаи со кои се постигнува овој критериум.
